### 执行下列命令
```
ulimit -n 655350
sysctl -w fs.file-max=6553500
echo "*     -   nofile  655350" >> /etc/security/limits.conf
echo "root  -   nofile  655350" >> /etc/security/limits.conf
echo "session   required    pam_limits.so" >> /etc/pam.d/common-session
echo "ulimit -SHn 655350"
```

### 有效性
* 当前bash立刻有效
* 其他bash无效,在需要扩大最大文件数的bash上面执行 `ulimit -n 655350`,或者重新启动

### 其他注意事项
* 不能动态修改其他线程的最大打开文件数,必须使用bash重启
* 可以只修改当前bash的session的限制
* 当前bash的session限制修改好了,这个bash开的子线程也会使用这些限制.